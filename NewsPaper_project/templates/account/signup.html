{% extends "flatpages/default.html" %}
{% load allauth i18n %}
{% load account socialaccount %}

{% block title %}
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
{% endblock title %}

{% block content %}
<div style="max-width: 500px; margin: 2rem auto;">
    <h1><b><span style="color: #272a2d;">–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞</span></b></h1>
    <hr>

    <p class="text-muted mb-4">
        {% url 'account_login' as login_url %}
        –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="{{ login_url }}">–í–æ–π–¥–∏—Ç–µ</a>.
    </p>

    {% if not SOCIALACCOUNT_ONLY %}
        {% url 'account_signup' as action_url %}
        <form method="post" action="{{ action_url }}">
            {% csrf_token %}
            {{ redirect_field }}

            <div class="form-group mb-3">
                {{ form.username.errors }}
                <input type="text" name="username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="form-control" required>
            </div>

            <div class="form-group mb-3">
                {{ form.email.errors }}
                <input type="email" name="email" placeholder="Email" class="form-control" required>
            </div>

            <div class="form-group mb-3">
                {{ form.password1.errors }}
                <input type="password" name="password1" placeholder="–ü–∞—Ä–æ–ª—å" class="form-control" required>
            </div>

            <div class="form-group mb-3">
                {{ form.password2.errors }}
                <input type="password" name="password2" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" class="form-control" required>
                <details style="margin-top: 0.5rem;">
                  <summary style="cursor: pointer; color: #3668df;">–ü–æ–∫–∞–∑–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞—Ä–æ–ª—é</summary>
                  <ul style="margin-top: 0.5rem; font-size: 0.9rem;">
                    <li>–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤</li>
                    <li>–•–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞</li>
                    <li>–•–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞</li>
                    <li>–•–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞</li>
                    <li>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª (!, @, #, ...)</li>
                  </ul>
                </details>
            </div>

            <button type="submit" class="btn btn-success">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
    {% endif %}

    {% if PASSKEY_SIGNUP_ENABLED %}
        <a href="{{ signup_by_passkey_url }}" class="btn btn-outline-primary mt-3">
            üîë –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –∫–ª—é—á–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        </a>
    {% endif %}

    {% if SOCIALACCOUNT_ENABLED %}
        <div class="social-logins text-center mt-4">
            {% include "socialaccount/snippets/login.html" with page_layout="entrance" %}
        </div>
    {% endif %}
</div>

<style>
    input {
        border-radius: 0.5rem;
        border: 1px solid #e0e5ff;
        padding: 8px;
        width: 100%;
        box-sizing: border-box;
    }
    input:focus {
        border-color: #3668df;
        outline: none;
        box-shadow: 0 0 0 0.2rem rgba(54, 104, 223, 0.2);
    }
</style>
{% endblock %}